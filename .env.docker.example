# ============================================
# DOCKER ENVIRONMENT VARIABLES
# ============================================
# This file contains all environment variables needed for Docker deployment
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env in the project root: copy .env.docker.example .env
# 2. Update the values below (especially the REQUIRED ones)
# 3. Run: docker-compose up -d --build
#
# For production: Use strong, randomly generated values
# For development/testing: You can use the default values provided

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_NAME=campus_placement_portal
DB_USER=postgres
DB_PASSWORD=postgres
DB_PORT=5432

# ============================================
# BACKEND CONFIGURATION
# ============================================
NODE_ENV=production
BACKEND_PORT=5000

# File Upload Settings
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# ============================================
# JWT CONFIGURATION (REQUIRED - Change in production!)
# ============================================
# CRITICAL: Generate a strong random secret for production!
# Run this command to generate a secure secret:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Or use: openssl rand -hex 64
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_minimum_64_characters
JWT_EXPIRE=7d
JWT_COOKIE_EXPIRE=7

# ============================================
# FRONTEND CONFIGURATION
# ============================================
FRONTEND_PORT=80
# For production, set this to your actual domain (without trailing slash)
# Example: https://placement.yourcollege.edu.in
FRONTEND_URL=http://localhost

# API URL for frontend to connect to backend
# Using /api (relative URL) because nginx proxies /api to the backend
# This makes the app work from any hostname/IP without changes
VITE_API_URL=/api

# ============================================
# CLOUDINARY CONFIGURATION (For file/photo uploads)
# ============================================
# Sign up at https://cloudinary.com to get these credentials (FREE tier available)
# Without these, photo upload features will not work
CLOUDINARY_CLOUD_NAME=your_cloud_name_here
CLOUDINARY_API_KEY=your_api_key_here
CLOUDINARY_API_SECRET=your_api_secret_here

# ============================================
# EMAIL CONFIGURATION (For notifications & verification)
# ============================================
# For Gmail: Enable 2FA and generate an App Password
# Guide: https://support.google.com/accounts/answer/185833
# Without these, email verification and notifications will not work
EMAIL_SERVICE=gmail
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_gmail_app_password_here
EMAIL_FROM=State Placement Cell <your_email@gmail.com>

# ============================================
# SUPER ADMIN SETUP (For database seeding)
# ============================================
# SETUP_SECRET_KEY: Used to verify eligibility before creating super admin
# Generate a strong key: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SETUP_SECRET_KEY=your-secret-setup-key-change-in-production

# For automated/CI-CD deployments (non-interactive seeding):
# Set CREATE_SUPER_ADMIN=true and provide credentials below
CREATE_SUPER_ADMIN=false
SUPER_ADMIN_EMAIL=
SUPER_ADMIN_PASSWORD=

# ============================================
# QUICK START (Development/Testing)
# ============================================
# For quick local testing, you only NEED to set:
# 1. DB_PASSWORD (keep as 'postgres' for local)
# 2. JWT_SECRET (change to any long random string)
#
# Optional services (app works without them):
# - Cloudinary: For photo uploads
# - Email: For email verification
#
# ============================================
# PRODUCTION CHECKLIST
# ============================================
# [ ] Change DB_PASSWORD to a strong password
# [ ] Generate and set a secure JWT_SECRET (64+ characters)
# [ ] Set FRONTEND_URL to your production domain
# [ ] Set VITE_API_URL to your production API endpoint
# [ ] Configure Cloudinary credentials
# [ ] Configure Email credentials (Gmail App Password)
# [ ] Set a secure SETUP_SECRET_KEY
# [ ] Consider using HTTPS (reverse proxy like Nginx/Traefik)
# [ ] Set up regular database backups
